<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <title>
        艺品后台管理系统
    </title>
    <!--<link href="http://fonts.googleapis.com/css?family=Lato:100,300,400,700" media="all" rel="stylesheet" type="text/css" />-->
    <link href="/stylesheets/bootstrap.min.css" media="all" rel="stylesheet" type="text/css"/>
    <link href="/stylesheets/font-awesome.css" media="all" rel="stylesheet" type="text/css"/>
    <link href="/stylesheets/se7en-font.css" media="all" rel="stylesheet" type="text/css"/>
    <link href="/stylesheets/isotope.css" media="all" rel="stylesheet" type="text/css"/>
    <link href="/stylesheets/jquery.fancybox.css" media="all" rel="stylesheet" type="text/css"/>
    <link href="/stylesheets/fullcalendar.css" media="all" rel="stylesheet" type="text/css"/>
    <link href="/stylesheets/wizard.css" media="all" rel="stylesheet" type="text/css"/>
    <link href="/stylesheets/select2.css" media="all" rel="stylesheet" type="text/css"/>
    <link href="/stylesheets/morris.css" media="all" rel="stylesheet" type="text/css"/>
    <link href="/stylesheets/datatables.css" media="all" rel="stylesheet" type="text/css"/>
    <link href="/stylesheets/datepicker.css" media="all" rel="stylesheet" type="text/css"/>
    <link href="/stylesheets/timepicker.css" media="all" rel="stylesheet" type="text/css"/>
    <link href="/stylesheets/colorpicker.css" media="all" rel="stylesheet" type="text/css"/>
    <link href="/stylesheets/bootstrap-switch.css" media="all" rel="stylesheet" type="text/css"/>
    <link href="/stylesheets/daterange-picker.css" media="all" rel="stylesheet" type="text/css"/>
    <link href="/stylesheets/typeahead.css" media="all" rel="stylesheet" type="text/css"/>
    <link href="/stylesheets/summernote.css" media="all" rel="stylesheet" type="text/css"/>
    <link href="/stylesheets/pygments.css" media="all" rel="stylesheet" type="text/css"/>
    <link href="/stylesheets/style.css" media="all" rel="stylesheet" type="text/css"/>
    <link href="/stylesheets/color/green.css" media="all" rel="alternate stylesheet" title="green-theme"
          type="text/css"/>
    <link href="/stylesheets/color/orange.css" media="all" rel="alternate stylesheet" title="orange-theme"
          type="text/css"/>
    <link href="/stylesheets/color/magenta.css" media="all" rel="alternate stylesheet" title="magenta-theme"
          type="text/css"/>
    <link href="/stylesheets/color/gray.css" media="all" rel="alternate stylesheet" title="gray-theme" type="text/css"/>
    <script src="/javascripts/jquery.min.js" type="text/javascript"></script>
    <script src="/javascripts/jquery-ui.js" type="text/javascript"></script>
    <script src="/javascripts/bootstrap.min.js" type="text/javascript"></script>
    <script src="/javascripts/raphael.min.js" type="text/javascript"></script>
    <script src="/javascripts/selectivizr-min.js" type="text/javascript"></script>
    <script src="/javascripts/jquery.mousewheel.js" type="text/javascript"></script>
    <script src="/javascripts/jquery.vmap.min.js" type="text/javascript"></script>
    <script src="/javascripts/jquery.vmap.sampledata.js" type="text/javascript"></script>
    <script src="/javascripts/jquery.vmap.world.js" type="text/javascript"></script>
    <script src="/javascripts/jquery.bootstrap.wizard.js" type="text/javascript"></script>
    <script src="/javascripts/fullcalendar.min.js" type="text/javascript"></script>
    <script src="/javascripts/gcal.js" type="text/javascript"></script>
    <script src="/javascripts/jquery.dataTables.min.js" type="text/javascript"></script>
    <script src="/javascripts/datatable-editable.js" type="text/javascript"></script>
    <script src="/javascripts/jquery.easy-pie-chart.js" type="text/javascript"></script>
    <script src="/javascripts/excanvas.min.js" type="text/javascript"></script>
    <script src="/javascripts/jquery.isotope.min.js" type="text/javascript"></script>
    <script src="/javascripts/isotope_extras.js" type="text/javascript"></script>
    <script src="/javascripts/modernizr.custom.js" type="text/javascript"></script>
    <script src="/javascripts/jquery.fancybox.pack.js" type="text/javascript"></script>
    <script src="/javascripts/select2.js" type="text/javascript"></script>
    <script src="/javascripts/styleswitcher.js" type="text/javascript"></script>
    <script src="/javascripts/wysiwyg.js" type="text/javascript"></script>
    <script src="/javascripts/summernote.min.js" type="text/javascript"></script>
    <script src="/javascripts/jquery.inputmask.min.js" type="text/javascript"></script>
    <script src="/javascripts/jquery.validate.js" type="text/javascript"></script>
    <script src="/javascripts/bootstrap-fileupload.js" type="text/javascript"></script>
    <script src="/javascripts/bootstrap-datepicker.js" type="text/javascript"></script>
    <script src="/javascripts/bootstrap-timepicker.js" type="text/javascript"></script>
    <script src="/javascripts/bootstrap-colorpicker.js" type="text/javascript"></script>
    <script src="/javascripts/bootstrap-switch.min.js" type="text/javascript"></script>
    <script src="/javascripts/typeahead.js" type="text/javascript"></script>
    <script src="/javascripts/daterange-picker.js" type="text/javascript"></script>
    <script src="/javascripts/date.js" type="text/javascript"></script>
    <script src="/javascripts/morris.min.js" type="text/javascript"></script>
    <script src="/javascripts/skycons.js" type="text/javascript"></script>
    <script src="/javascripts/fitvids.js" type="text/javascript"></script>
    <script src="/javascripts/jquery.sparkline.min.js" type="text/javascript"></script>
    <script src="/javascripts/main.js" type="text/javascript"></script>
    <script src="/javascripts/respond.js" type="text/javascript"></script>
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport">
</head>
<body>
<div class="modal-shiftfix">
    <!-- Navigation -->
    <div class="navbar navbar-fixed-top scroll-hide">
        <div class="container-fluid top-bar">
            <div class="pull-right">
                <ul class="nav navbar-nav pull-right">
                    <li class="dropdown notifications hidden-xs">
                        <a class="dropdown-toggle" data-toggle="dropdown" href="#"><span aria-hidden="true"
                                                                                         class="se7en-flag"></span>
                            <div class="sr-only">
                                Notifications
                            </div>
                            <p class="counter">
                                4
                            </p>
                        </a>
                        <ul class="dropdown-menu">
                            <li><a href="#">
                                <div class="notifications label label-info">
                                    New
                                </div>
                                <p>
                                    New user added: Jane Smith
                                </p></a>

                            </li>
                            <li><a href="#">
                                <div class="notifications label label-info">
                                    New
                                </div>
                                <p>
                                    Sales targets available
                                </p></a>

                            </li>
                            <li><a href="#">
                                <div class="notifications label label-info">
                                    New
                                </div>
                                <p>
                                    New performance metric added
                                </p></a>

                            </li>
                            <li><a href="#">
                                <div class="notifications label label-info">
                                    New
                                </div>
                                <p>
                                    New growth data available
                                </p></a>

                            </li>
                        </ul>
                    </li>
                    <li class="dropdown messages hidden-xs">
                        <a class="dropdown-toggle" data-toggle="dropdown" href="#"><span aria-hidden="true"
                                                                                         class="se7en-envelope"></span>
                            <div class="sr-only">
                                Messages
                            </div>
                            <p class="counter">
                                3
                            </p>
                        </a>
                        <ul class="dropdown-menu messages">
                            <li><a href="#">
                                <img width="34" height="34" src="images/avatar-male2.png"/>Could we meet today? I
                                wanted...</a>
                            </li>
                            <li><a href="#">
                                <img width="34" height="34" src="images/avatar-female.png"/>Important data needs your
                                analysis...</a>
                            </li>
                            <li><a href="#">
                                <img width="34" height="34" src="images/avatar-male2.png"/>Buy Se7en today, it's a great
                                theme...</a>
                            </li>
                        </ul>
                    </li>
                    <li class="dropdown settings hidden-xs">
                        <a class="dropdown-toggle" data-toggle="dropdown" href="#"><span aria-hidden="true"
                                                                                         class="se7en-gear"></span>
                            <div class="sr-only">
                                Settings
                            </div>
                        </a>
                        <ul class="dropdown-menu">
                            <li>
                                <a class="settings-link blue" href="javascript:chooseStyle('none', 30)"><span></span>Blue</a>
                            </li>
                            <li>
                                <a class="settings-link green"
                                   href="javascript:chooseStyle('green-theme', 30)"><span></span>Green</a>
                            </li>
                            <li>
                                <a class="settings-link orange"
                                   href="javascript:chooseStyle('orange-theme', 30)"><span></span>Orange</a>
                            </li>
                            <li>
                                <a class="settings-link magenta"
                                   href="javascript:chooseStyle('magenta-theme', 30)"><span></span>Magenta</a>
                            </li>
                            <li>
                                <a class="settings-link gray"
                                   href="javascript:chooseStyle('gray-theme', 30)"><span></span>Gray</a>
                            </li>
                        </ul>
                    </li>
                    <li class="dropdown user hidden-xs"><a data-toggle="dropdown" class="dropdown-toggle" href="#">
                        <img width="34" height="34" src="images/avatar-male.jpg"/>John Smith<b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li><a href="#">
                                <i class="icon-user"></i>My Account</a>
                            </li>
                            <li><a href="#">
                                <i class="icon-gear"></i>Account Settings</a>
                            </li>
                            <li><a href="login1.html">
                                <i class="icon-signout"></i>Logout</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
            <button class="navbar-toggle"><span class="icon-bar"></span><span class="icon-bar"></span><span
                    class="icon-bar"></span></button>
            <a class="logo" href="index-2.html">se7en</a>
            <form class="navbar-form form-inline col-lg-2 hidden-xs">
                <input class="form-control" placeholder="Search" type="text">
            </form>
        </div>
        <div class="container-fluid main-nav clearfix">
            <div class="nav-collapse">
                <ul class="nav">
                    <li><a href="/admin/dictionaries-list">
                        <span aria-hidden="true" class="se7en-charts"></span>字典管理</a>
                    </li>
                    <li><a href="/admin/user-list">
                        <span aria-hidden="true" class="se7en-charts"></span>用户管理</a>
                    </li>

                    <li><a href="/admin/production-list">
                        <span aria-hidden="true" class="se7en-charts"></span>作品管理</a>
                    </li>
                    <li class="dropdown"><a data-toggle="dropdown" href="#">
                        <span aria-hidden="true" class="se7en-pages"></span>轮播图管理<b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li>
                                <a href="/admin/add-slide">新增轮播图</a>
                            </li>
                            <li>
                                <a href="/admin/slide">轮播图列表</a>
                            </li>
                        </ul>
                    </li>
                    <li class="dropdown"><a data-toggle="dropdown" href="#">
                        <span aria-hidden="true" class="se7en-pages"></span>画种管理<b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li>
                                <a href="/admin/add-paint-type">新增画种</a>
                            </li>
                            <li>
                                <a href="/admin/paint-type">画种列表</a>
                            </li>
                        </ul>
                    </li>
                    <li class="dropdown"><a data-toggle="dropdown" href="#">
                        <span aria-hidden="true" class="se7en-pages"></span>话题管理<b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li>
                                <a href="/admin/add-topicArticle">发布新话题</a>
                            </li>
                            <li>
                                <a href="/admin/topicArticle">话题列表</a>
                            </li>
                        </ul>
                    </li>
                    <li class="dropdown"><a data-toggle="dropdown" href="#">
                        <span aria-hidden="true" class="se7en-pages"></span>分类标签管理<b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li>
                                <a href="/admin/add-production-tag">新增分类标签</a>
                            </li>
                            <li>
                                <a href="/admin/production-tag">分类标签列表</a>
                            </li>
                        </ul>
                    </li>
                    <li class="dropdown"><a data-toggle="dropdown" href="#">
                        <span aria-hidden="true" class="se7en-pages"></span>专家管理<b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li>
                                <a href="/admin/specialist">专家申请列表</a>
                            </li>
                            <li>
                                <a href="/admin/specialist-list">专家列表</a>
                            </li>
                        </ul>
                    </li>
                    <li class="dropdown"><a data-toggle="dropdown" href="#">
                        <span aria-hidden="true" class="se7en-pages"></span>管理员管理<b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li th:if="${admin.isSuper} eq '1'">
                                <a href="/admin/admin-register">新增管理员</a>
                            </li>
                            <li>
                                <a href="/admin/admin-list">管理员列表</a>
                            </li>
                        </ul>
                    </li>
                    <li class="dropdown"><a data-toggle="dropdown" href="#">
                        <span aria-hidden="true" class="se7en-pages"></span>每日一句管理<b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li>
                                <a href="/admin/add-dailySentence">新增每日一句</a>
                            </li>
                            <li>
                                <a href="/admin/dailySentence">每日一句列表</a>
                            </li>
                        </ul>
                    </li>
                    <li class="dropdown"><a data-toggle="dropdown" href="#">
                        <span aria-hidden="true" class="se7en-pages"></span>大师管理<b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li>
                                <a href="/admin/add-Master">新增大师</a>
                            </li>
                            <li>
                                <a href="/admin/master">大师列表</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <!-- End Navigation -->
    <div class="container-fluid main-content">
        <div class="page-title">
            <h1>
                作品管理
            </h1>
        </div>
        <!-- DataTables Example -->
        <div class="row">
            <div class="col-lg-12">
                <div class="widget-container fluid-height clearfix">
                    <div class="heading">
                        <i class="icon-table"></i>作品列表
                    </div>
                    <div class="alert alert-success" th:unless="${#strings.isEmpty(msg)}">
                        <button class="close" data-dismiss="alert" type="button">&times;</button><a th:text="${msg}"></a>
                        <div class="badge pull-right">
                        </div>
                    </div>

                    <div class="widget-content padded clearfix">
                        <table class="table table-bordered table-striped" >
                            <thead>
                            <th>
                                作品id
                            </th>
                            <th>
                                作品名称
                            </th>
                            <th>
                                作品描述
                            </th>
                            <th class="hidden-xs">
                                图片地址
                            </th>
                            <th class="hidden-xs">
                                用户id
                            </th>
                            <th class="hidden-xs">
                                评论数
                            </th>
                            <th class="hidden-xs">
                                点赞数
                            </th>
                            <th class="hidden-xs">
                                创建时间
                            </th>
                            <th class="hidden-xs">
                                评估状态
                            </th>
                            <th class="hidden-xs">
                                发布状态
                            </th>
                            <th class="hidden-xs">
                                是否为代表作
                            </th>
                            <th class="hidden-xs">
                                作品详情和删除
                            </th>
                            </thead>
                            <tbody th:each="productionList : ${page.content}">
                            <tr>
                                <td th:text="${productionList.id}">

                                </td>
                                <td th:text="${productionList.title}">

                                </td>
                                <td th:text="${productionList.description}">

                                </td>
                                <td class="hidden-xs" >
                                   <a th:href="${productionList.imgUrl[0]}" >点击查看作品图片</a>
                                </td>
                                <td class="hidden-xs" th:text="${productionList.userId}">

                                </td>
                                <td class="hidden-xs" th:text="${productionList.comments}">

                                </td>
                                <td class="hidden-xs" th:text="${productionList.likes}">

                                </td>
                                <td class="hidden-xs" th:text="${productionList.createTime}">

                                </td>
                                <td class="hidden-xs">
                                    <span th:if="${productionList.evaluateStatus} eq '1'" class="label label-success">已评估</span>
                                    <span th:if="${productionList.evaluateStatus} eq '0'"
                                          class="label label-danger">未评估</span>
                                </td>
                                <td class="hidden-xs">
                                    <span th:if="${productionList.publishStatus} eq '1'"
                                          class="label label-success">已发布</span>
                                    <span th:if="${productionList.publishStatus} eq '0'"
                                          class="label label-danger">未发布</span>
                                </td>
                                <td class="hidden-xs">
                                    <span th:if="${productionList.isMainProduction} eq '1'"
                                          class="label label-success">用户代表作</span>
                                    <span th:if="${productionList.isMainProduction} eq '0'"
                                          class="label label-danger">普通作品</span>
                                </td>
                                <td class="actions">
                                    <div class="action-buttons">
                                        <a class="table-actions open-AddBookDialog"  th:data-id="${productionList.id}" data-toggle="modal" href="#myModal1" ><i class="icon-eye-open"></i></a>
                                        <a class="table-actions open-AddBookDialog" th:data-id="${productionList.id}" data-toggle="modal" href="#myModal2" ><i class="icon-trash"></i></a>
                                    </div>
                                </td>
                            </tr>
                            <div class="modal fade" id="myModal1">
                                <div class="modal-dialog">
                                    <div class="modal-content">
                                        <div class="modal-body">
                                            <h4>
                                                查看作品详细信息
                                            </h4>
                                        </div>
                                        <div class="modal-footer">
                                            <form th:action="@{/admin/comment-list}" method="post">
                                                <input  id="id" name="id" type="hidden" value="">
                                                <input class="btn btn-primary" type="submit" value="确定">
                                            </form>
                                                <button class="btn btn-default-outline" data-dismiss="modal" type="button">取消</button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="modal fade" id="myModal2">
                                <div class="modal-dialog">
                                    <div class="modal-content">
                                        <div class="modal-body">
                                            <h4>
                                                删除后无法恢复，真的要删除该作品吗
                                            </h4>
                                        </div>
                                        <div class="modal-footer">
                                            <form th:action="@{/admin/production-list/delete}" method="post">
                                                <input  id="id1" name="id" type="hidden" value="">
                                                <input class="btn btn-primary" type="submit" value="确定">
                                            </form>
                                                <button class="btn btn-default-outline" data-dismiss="modal" type="button">取消</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            </tbody>

                        </table>
                        <div class="row">
                            <div class="col-sm-12 col-md-5">
                                <div class="dataTables_info"  role="status"
                                     aria-live="polite"></div>
                            </div>
                            <div class="col-sm-12 col-md-7">
                                <div class="dataTables_paginate paging_simple_numbers" id="bootstrap-data-table-export_paginate">
                                    <ul class="pagination">
                                        <li class="paginate_button page-item previous "
                                            id="bootstrap-data-table-export_previous">

                                            <a th:href="@{/admin/production-list(page=${page.number}-1)}" th:unless="${page.first}"
                                               class="btn">上一页</a>

                                        </li>
                                        <li class="paginate_button page-item active"><a th:text="${page.number}+1" href="#"
                                                                                        aria-controls="bootstrap-data-table-export"
                                                                                        data-dt-idx="1" tabindex="0"
                                                                                        class="page-link"></a></li>
                                        <li class="paginate_button page-item next" id="bootstrap-data-table-export_next">

                                            <a th:href="@{/admin/production-list(page=${page.number}+1)}" th:unless="${page.last}"
                                               class="btn">下一页</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <form id="form" method="post"  th:action="@{/admin/searchByKey}" >
                            <input id="key" name="key" type="text" class="form-control"  >
                            <button  type="submit" class="btn btn-lg btn-info  btn-block">
                                <span >通过作品标题搜索作品</span>
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <!-- end DataTables Example -->

    </div>
</div>
</body>
<script>
    $(document).ready(function () {
        $(".open-AddBookDialog").click(function () {
            $('#id').val($(this).data('id'));
            $('#id1').val($(this).data('id'));
            $('#addBookDialog').modal('show');
        });
    });
</script>

</html>